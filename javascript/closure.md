# Closure 클로저

클로저는 자바스트립트 고유 개념이 아니라 함수를 일급 객체로 취급하는 함수형 프로그래밍 언어에서 사용되는 중요한 특성이다.

스코프는 함수를 호출 할 때가 아니라 함수를 어디에 선언하였는지에 따라 결정된다. 이를 렉시컬 스코핑(Lexical scoping)이라 한다.
자신을 포함하고 있는 외부 함수보다 내부함수가 더 오래 유지되는 경우, 외부 함수 밖에서 내부 함수가 호출되더라도 외부 함수의 지역변수에 접근 할 수 있는데 이러한 함수를 클로저라고 부른다.
클로저는 함수와 그 함수가 선언됐을 때의 렉시컬 환경(자신이 생성될 때의 스코프)과의 조합이다.

```
function outerFunc() {
  var x = 10;
  var innerFunc = function () { console.log(x); };
  return innerFunc;
}

/**
 *  함수 outerFunc를 호출하면 내부 함수 innerFunc가 반환된다.
 *  그리고 함수 outerFunc의 실행 컨텍스트는 소멸한다.
 */
var inner = outerFunc();
inner(); // 10
```

실행 컨텍스트 관점에서 설명하면, 내부함수가 유효한 상태에서 외부함수가 종료하여 외부함수의 실행 컨텍스트가 반환되어도, 외부함수 실행 컨텍스트내의 활성객체(Activation Object)는 내부함수에 의해 참조되는 한 유효하여 내부함수가 스코프 체인을 통해 참조할 수 있는 것을 의미한다. 즉 외부함수가 이미 반환 되었어도 외부함수 내의 변수는 이를 필요로 하는 내부함수가 하나 이상 존재하는 경우 계속 유지된다.

### 클로저의 활용

- 상태유지

  얘를 들어, toggle 버튼에 즉시실행 함수로 클로저를 반환하면 상태를 전역에 두고 사용하지 않아도 최신상태를 유지할 수 있다.

- 전역 변수의 사용 억제
- 정보의 은닉
- 함수형 프로그래밍 기법인 고차함수 사용
